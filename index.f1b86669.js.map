{"mappings":"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","sources":["src/index.js","src/js/list_of_categories.js","src/js/best_sellers_books.js","src/js/booksAPI.js","src/js/book_modal_window.js"],"sourcesContent":["import './js/isChangeTheme';\nimport './js/list_of_categories';\nimport './js/support_ukraine';\nimport './js/best_sellers_books';\nimport './js/category_books';\nimport './js/autorization_modal_window';\nimport './js/book_modal_window';\nimport './js/mobile_menu';\nimport './js/about_us_modal_window';\n\n\nconst homeLinkEl = document.querySelector('.js-nav-homelink');\nconst mobileHomeLinkEl = document.querySelector('.js-mobile-nav-homelink');\nhomeLinkEl.classList.toggle('selected');\nmobileHomeLinkEl.classList.toggle('mobile-selected');\n\n\n\n","import axios from 'axios';\nimport { list } from './best_sellers_books';\nimport { createMarcupCategoryBook } from './best_sellers_books';\nimport { createBestBook } from './best_sellers_books';\nimport { booksAPI } from './booksAPI';\n\nconst categoryListBox = document.querySelector(\".category-list-box\");\nconst URL = 'https://books-backend.p.goit.global/books/category-list';\nconst fetchBooks = new booksAPI()\n\n// Функція запиту на отримання назв категорій від бекенду\nasync function fetchCategoryList() {\n    try {\n        const response= await axios.get(`${URL}`);\n\n        return response.data;\n    } catch (error) {\n        console.log(error);\n        return [];\n    }\n}\n\n// Формування списку категорій\nfunction createCategoryList(data) {\n    let categoryListHTML = `<h3 id=\"category-list-title\" class=\"category-list-item\">All categories</h3>`;\n    data.forEach(category => {\n        const categoryLink = `<p id=\"${category.list_name}\" class=\"category-list-item\">${category.list_name}</p>`;\n        categoryListHTML += categoryLink;\n    });\n    return categoryListHTML;\n};\n\n\n\n// Відправлення запиту і формування списку під час завантаження сторінки \nconst getCategoryList = async () => {\n    let data = await fetchCategoryList();\n    categoryListBox.innerHTML = createCategoryList(data);\n};\ngetCategoryList();\n\n// // Зміни стилів у списку під час вибору категорії (для світлої і темної тем дизайну)\n// categoryListBox.addEventListener(\"click\", choosingCategory);\n// function choosingCategory(event) {\n//     if (localStorage.getItem('theme') === 'dark') {\n//         categoryNames.forEach(name => {\n//             name.style.color = \"rgba(255, 255, 255, 0.6)\";\n//             name.style.fontWeight = 400;\n//             name.style.textTransform = \"lowercase\";\n//             name.style.textTransform = \"capitalize\";\n//         });\n//         event.target.style.color = \"#EAC645\";\n//         event.target.style.fontWeight = 700;\n//         event.target.style.textTransform = \"uppercase\";\n//     } else {\n//         categoryNames.forEach(name => {\n//             name.style.color = \"rgba(17, 17, 17, 0.6)\";\n//             name.style.fontWeight = 400;\n//             name.style.textTransform = \"lowercase\";\n//             name.style.textTransform = \"capitalize\";\n//         });\n//         event.target.style.color = \"#4F2EE8\";\n//         event.target.style.fontWeight = 700;\n//         event.target.style.textTransform = \"uppercase\";\n//     }\n// }\n\ncategoryListBox.addEventListener('click', loadCategory)\n\nasync function loadCategory(event) {\n\n    const {target} = event;\n\n    if(!target.classList.contains('category-list-item')) {\n        return\n    } else {\n        let category = target.id.split(\" \").join(\"%20\");\n        if (category === 'category-list-title') {\n            list.innerHTML = '';\n            createBestBook();\n        } else {\n            list.innerHTML ='';\n            list.classList.add('loader');\n            const { data } = await fetchBooks.getBooksByCategory(category);\n            list.classList.remove('loader');\n            list.innerHTML = createMarcupCategoryBook(data);\n\n            \n            const { height: cardHeight } = list.lastElementChild.getBoundingClientRect();\n            window.scrollBy({top: -cardHeight, behavior: \"smooth\",});\n        }\n    }\n}\n","\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { booksAPI } from './booksAPI'; \nimport { countShoppingBook } from './header';\n//import ...\n\n// Змінна що зберігає дів куди добавляти розмітку\nconst list = document.querySelector('.homepage-books')\nlist.addEventListener('click', loadMore)\nconst fetchBooks = new booksAPI();\n\n// Змінна та слухач на кнопку скарола\nconst btnScroll = document.querySelector('.btn-up-scroll');\nbtnScroll.addEventListener('click', scrollUp)\n\n// Функція для розмітки бест бук\nfunction createMarcup(arr, querty) {\n\n    const markup = arr.map(({list_name, books}) => {\n        const titleBook = `<p class=\"theme-book\">${list_name}</p>`;\n\n        if (books.length) {\n            let book = books.splice(0, querty).map(({_id, book_image, title, author}) => \n            `<li class=\"item-book\" data-id=\"${_id}\">\n            <div class=\"img-owerlay\">\n            <img src=\"${book_image}\" alt=\"${title}\" class=\"img-book\">\n            <div class=\"owerlay\">\n                <p class=\"owerlay-content\">quick view</p>\n            </div>\n            </div>\n            <p class=\"title-book\">${shortTitle(title, 17)}</p>\n            <p class=\"author\">${shortTitle(author, 34)}</p>\n            </li>`).join('');\n\n            return `<div class=\"best-book-container\">${titleBook}<ul class=\"list-books\">${book}</ul>\n            <button type=\"button\" class=\"button-more js-btn-more\" data-category=\"${list_name}\">See more</button></div>`\n        } else {\n            return `<div class=\"off-books\"><p class=\"off-books-text\">Sorry, there are no books in this category, please choose another category</p></div>`\n        }}).join('');\n\n        return `<h2 class=\"title-theme-book\">Best Sellers <span class=\"last-word-color\">Books</span></h2>${markup}`;\n}\n\n// Початкова функція яка робить запит та промальовує бест бук\nasync function createBestBook() {\n    const pageWidth = document.documentElement.scrollWidth;\n    list.classList.add('loader')\n\n    try {\n        const { data } = await fetchBooks.getTopBooks();\n        countShoppingBook(JSON.parse(localStorage.getItem('orderedBookID')));\n\n        if (data.length) {\n            if (pageWidth < 768) {\n                list.innerHTML = createMarcup(data, 1);\n            } else if (pageWidth < 1440 && pageWidth >= 768) {\n                list.innerHTML = createMarcup(data, 3);\n            } else {\n                list.innerHTML = createMarcup(data, 5);\n            }\n            list.classList.remove('loader');\n        } else {\n            list.classList.remove('loader');\n            Notify.failure(\"Sorry, there was a server error, please reload the page\");\n            return}}\n    catch (error) {\n        console.error(error);\n        Notify.failure('Sorry, there was a server error, please reload the page');\n    }   \n}\n\n// Виклик даної функції для промальовки всього при завантажені сторінки\ncreateBestBook()\n\n// Функція для розмітки книг за категорією\nfunction createMarcupCategoryBook(arr) {\nif(arr.length){\n        const markup = arr.map(({_id, book_image, author, title}) => \n        `<li class=\"item-book\" data-id=\"${_id}\">\n        <div class=\"img-owerlay\">\n        <img src=\"${book_image}\" alt=\"${title}\" class=\"img-book\">\n        <div class=\"owerlay\">\n        <p class=\"owerlay-content\">quick view</p>\n        </div>\n        </div>\n        <p class=\"title-book\">${shortTitle(title, 17)}</p>\n        <p class=\"author\">${shortTitle(author, 34)}</p>\n        </li>`\n        ).join('')\n\n        return `<h2 class=\"title-theme-book\">${lastBlueWord(arr[0].list_name)}</h2><ul class=\"list-books category\">${markup}</ul>`\n    } else {\n        return `<div class=\"off-books\">\n        <p class=\"off-books-text\">Sorry, there are no books in this category, please choose another category</p>\n        </div>`\n    }\n}\n\n//Функція для списку книг в обраній категорії\nasync function loadMore(event) {\n    event.preventDefault();\n        \n    const { target } = event;\n            \n    try {\n        if(!target.classList.contains('js-btn-more')) { \n            return;\n        } else {\n            let category = target.dataset.category.split(\" \").join(\"%20\");\n            const { data } = await fetchBooks.getBooksByCategory(category);\n            list.innerHTML = createMarcupCategoryBook(data);\n\n    // Робимо Scroll на початок сторінки після її завантаження, щоб одразу була видка категорія книжок\n    const { height: cardHeight } = list.lastElementChild.getBoundingClientRect();\n    window.scrollBy({top: -cardHeight, behavior: \"smooth\",});\n    }\n    } catch (error) {\n        console.error(error);\n        Notify.failure('Sorry, there was a server error, please reload the page');\n    }\n}\n\n// Функція що скорочує title i author на книгаг до вказаного числа символів та додає три крапки в кінці\nfunction shortTitle(string, value) {\n  if(string.length > Number(value)){\n      switch (subStrCount(string, \" \")){\n        case 0:  return string.slice(0, Number(value)) + '...';\n        case 1:  return string.slice(0, Number(value-1)) + '...';\n        default: return string.slice(0, Number(value-2)) + '...';\n      }\n  }else{\n      return string;\n  }\n}\n\n// Функція, яка підраховує кількість входжень рядка subStr в str\nfunction subStrCount(str, subStr){\n  const step = subStr.lenght;\n  let count = 0;\n  let pos = helpStr.indexOf(subSt);\n  while (pos >= 0) {\n    count++;\n    pos = helpStr.indexOf(subSt, pos+step);\n  }\n  return count;  \n}\n\n  \n// Функція що робить синім кольором останнє слово \nfunction lastBlueWord(string) {\n    const arrWord = string.split(\" \");\n    const firstWord = arrWord.splice(0, arrWord.length - 1);\n    return `${firstWord.join(' ')} <span class=\"last-word-color\">${arrWord.join('')}</span>`\n}\n    \n    \n// // Функції скролу____________________________________\nfunction scrollUp() {\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    })\n\n    btnScroll.classList.add('is-hidden-btn')\n}\n\nwindow.addEventListener('scroll', scrollTracker);\n\nfunction scrollTracker() {\n    const offset = window.pageYOffset;\n    const highDocument = document.documentElement.clientHeight;\n        if (offset > highDocument) {\n            btnScroll.classList.remove('is-hidden-btn');\n        } else {\n            btnScroll.classList.add('is-hidden-btn');\n        }\n}\n\nexport {list, createMarcupCategoryBook, createBestBook}\n","import axios from \"axios\";\n\nexport class booksAPI {\n\n  // приватні властивості для запиту \n    #BASE_URL = 'https://books-backend.p.goit.global/books/';\n\n\n    //методи классу\n    getBookById(book_Id) {console.log(`${this.#BASE_URL}${book_Id}`); return axios.get(`${this.#BASE_URL}${book_Id}`);}\n    getTopBooks() {return axios.get(`${this.#BASE_URL}top-books`);}\n    getCategoryList() {return axios.get(`${this.#BASE_URL}categoty-list`);}\n    getBooksByCategory(category) {return axios.get(`${this.#BASE_URL}category?category=${category}`)};\n}\n","import { booksAPI } from './booksAPI';\nimport { countShoppingBook } from './header';\n\nconst books = new booksAPI;\nlet book_Id;\nconst divContainerEl = document.querySelector('.homepage-books');\nconst divBackEl = document.querySelector('.back');\nconst btnCloseModal = document.querySelector('.btn-modal-close');\nconst btnAddEl = document.querySelector('.add');\nconst btnRemoveEl = document.querySelector('.remove');\nconst textEl = document.querySelector('.modal-message');\n\nconst objScroll = {\n    scrollPosition: 0,\n    disabledScroll() {\n        objScroll.scrollPosition = window.scrollY;\n        document.body.classList.add('block-scroll');\n\n        document.body.style.cssText = `top: -${objScroll.scrollPosition}px;`\n    },\n\n    enabledScroll() {\n        document.body.classList.remove('block-scroll');\n        document.body.style.cssText = `top: 0`\n        window.scroll({top: objScroll.scrollPosition})\n    },\n}\n\ndivContainerEl.addEventListener('click', onReadId);\n\nfunction onReadId(event) {\n    \n    if (event.target.classList[0] === 'img-book' || event.target.classList[0] === 'owerlay') {\n        book_Id = event.target.parentElement.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    } else if (event.target.classList[0] === 'owerlay-content') {\n        book_Id = event.target.parentElement.parentElement.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    } else if (event.target.classList[0] === 'title-book' || event.target.classList[0] === 'author') {\n        book_Id = event.target.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    }\n}\n\nasync function createModalWindow(book_Id) {\n    objScroll.disabledScroll();\n    document.addEventListener(\"keydown\", event => {\n        if (event.key === 'Escape') {\n            onCloseModal();\n        }\n    }, {once: true} );\n    try {\n        const respons = await books.getBookById(book_Id);\n        const { author, book_image, description, title, buy_links } = respons.data;\n        const randerBox = document.querySelector('.book-img');\n        const nameBookEl = document.querySelector('#name-book');\n        const authorEl = document.querySelector('#author');\n        const descriptionEl = document.querySelector('#description');\n        const amazonEl = document.querySelector('#amazon');\n        const appleEl = document.querySelector('#apple');\n        const barnesEl = document.querySelector('#barnes');\n        randerBox.innerHTML = '';\n        const randerModal = `<img src=\"${book_image}\" alt=\"${book_image}\" class=\"img-modal\">`\n        nameBookEl.textContent = title;\n        authorEl.textContent = author;\n        if (description === '') {\n            descriptionEl.textContent = 'No description';\n        } else {\n            descriptionEl.textContent = description\n        }\n        \n        amazonEl.attributes[0].value = buy_links[0].url;\n        appleEl.attributes[0].value = buy_links[1].url;\n        barnesEl.attributes[0].value = buy_links[2].url;\n\n        randerBox.innerHTML = randerModal;\n        divBackEl.classList.toggle('is-hidden');\n        const dataJson = localStorage.getItem('orderedBookID');\n        const arrLs = JSON.parse(dataJson);\n        if (arrLs === null || !arrLs.includes(book_Id)) {\n            btnAddEl.classList.remove('is-hidden');\n        } else {\n            btnRemoveEl.classList.remove('is-hidden');\n            textEl.classList.remove('is-hidden');\n        }\n    } catch (error) {\n        console.error(error);\n        Notify.failure('Sorry, there was a server error, please reload the page');\n    }\n    \n};\n\nbtnCloseModal.addEventListener('click', onCloseModal);\n\nfunction onCloseModal() {\n    objScroll.enabledScroll();\n    divBackEl.classList.toggle('is-hidden');\n    btnRemoveEl.classList.add('is-hidden');\n    btnAddEl.classList.add('is-hidden');\n    textEl.classList.add('is-hidden');\n}\n\nbtnAddEl.addEventListener('click', addLocalStorage);\nbtnRemoveEl.addEventListener('click', removeLocalStorage);\n\nfunction addLocalStorage() {\n    btnAddEl.classList.add('is-hidden');\n    btnRemoveEl.classList.remove('is-hidden');\n    textEl.classList.remove('is-hidden');\n    const dataJson = localStorage.getItem('orderedBookID');\n    let arrLs = JSON.parse(dataJson); //book_Id\n    /* console.log(arrLs) */\n    if (arrLs === null) {\n        arrLs = [];\n    }\n    arrLs.push(book_Id);\n    localStorage.setItem('orderedBookID', JSON.stringify(arrLs));\n    countShoppingBook(arrLs)\n};\n\nfunction removeLocalStorage() {\n    btnAddEl.classList.remove('is-hidden');\n    btnRemoveEl.classList.add('is-hidden');\n    textEl.classList.add('is-hidden');\n    const dataJson = localStorage.getItem('orderedBookID');\n    const arrLs = JSON.parse(dataJson);\n    let i = arrLs.indexOf(book_Id);\n    arrLs.splice(i, 1);\n    localStorage.removeItem('orderedBookID')\n    localStorage.setItem('orderedBookID', JSON.stringify(arrLs));\n    countShoppingBook(arrLs)\n};\n\n"],"names":["parcelRequire","$2shzp","$iQIUW","$77ff76f5a45d7283$export$30ca5a2b0dd6dd8d","BASE_URL","getBookById","book_Id","console","log","this","default","get","getTopBooks","getCategoryList","getBooksByCategory","category","$1e57ebc4c1d6c1c0$export$8837f4fc672e936d","document","querySelector","addEventListener","async","event","preventDefault","target","classList","contains","dataset","split","join","data","$1e57ebc4c1d6c1c0$var$fetchBooks","innerHTML","$1e57ebc4c1d6c1c0$export$132d38df295060c1","height","cardHeight","lastElementChild","getBoundingClientRect","window","scrollBy","top","behavior","error","Notify","failure","$1e57ebc4c1d6c1c0$var$btnScroll","$1e57ebc4c1d6c1c0$var$createMarcup","arr","querty","map","list_name","books","titleBook","length","splice","_id","book_image","title","author","$1e57ebc4c1d6c1c0$var$shortTitle","$1e57ebc4c1d6c1c0$export$b578f284f1ab20c5","pageWidth","documentElement","scrollWidth","add","$bUb57","countShoppingBook","JSON","parse","localStorage","getItem","remove","markup","string","arrWord","$1e57ebc4c1d6c1c0$var$lastBlueWord","value","Number","str","subStr","step","lenght","count","pos","helpStr","indexOf","subSt","$1e57ebc4c1d6c1c0$var$subStrCount","slice","scrollTo","offset","pageYOffset","highDocument","clientHeight","$4d99071f05d22df0$var$categoryListBox","$4d99071f05d22df0$var$fetchBooks","$4d99071f05d22df0$var$fetchCategoryList","categoryListHTML","forEach","categoryLink","$4d99071f05d22df0$var$createCategoryList","$4d99071f05d22df0$var$getCategoryList","id","$2092355dfbe39e27$var$books","$2092355dfbe39e27$var$book_Id","$2092355dfbe39e27$var$divContainerEl","$2092355dfbe39e27$var$divBackEl","$2092355dfbe39e27$var$btnCloseModal","$2092355dfbe39e27$var$btnAddEl","$2092355dfbe39e27$var$btnRemoveEl","$2092355dfbe39e27$var$textEl","$2092355dfbe39e27$var$objScroll","scrollPosition","disabledScroll","scrollY","body","style","cssText","enabledScroll","scroll","$2092355dfbe39e27$var$createModalWindow","book_Id1","key","$2092355dfbe39e27$var$onCloseModal","once","respons","description","buy_links","randerBox","nameBookEl","authorEl","descriptionEl","amazonEl","appleEl","barnesEl","randerModal","textContent","attributes","url","toggle","dataJson","arrLs","includes","parentElement","push","setItem","stringify","i","removeItem","$1f0dc3b9307be026$var$homeLinkEl","$1f0dc3b9307be026$var$mobileHomeLinkEl"],"version":3,"file":"index.f1b86669.js.map"}