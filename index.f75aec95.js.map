{"mappings":"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","sources":["src/index.js","src/js/list_of_categories.js","src/js/best_sellers_books.js","src/js/book_modal_window.js"],"sourcesContent":["import './js/isChangeTheme';\nimport './js/list_of_categories';\nimport './js/support_ukraine';\nimport './js/best_sellers_books';\nimport './js/category_books';\nimport './js/autorization_modal_window';\nimport './js/book_modal_window';\nimport './js/mobile_menu';\nimport './js/about_us_modal_window';\n\n\nconst homeLinkEl = document.querySelector('.js-nav-homelink');\nconst mobileHomeLinkEl = document.querySelector('.js-mobile-nav-homelink');\nhomeLinkEl.classList.toggle('selected');\nmobileHomeLinkEl.classList.toggle('mobile-selected');\n\n\n\n","import axios from 'axios';\nimport { list } from './best_sellers_books';\nimport { createMarcupCategoryBook } from './best_sellers_books';\nimport { createBestBook } from './best_sellers_books';\nimport { booksAPI } from './booksAPI';\n\nconst categoryListBox = document.querySelector(\".category-list-box\");\nconst URL = 'https://books-backend.p.goit.global/books/category-list';\nconst fetchBooks = new booksAPI()\n\n// Функція запиту на отримання назв категорій від бекенду\nasync function fetchCategoryList() {\n    try {\n        const response= await axios.get(`${URL}`);\n\n        return response.data;\n    } catch (error) {\n        console.log(error);\n        return [];\n    }\n}\n\n// Формування списку категорій\nfunction createCategoryList(data) {\n    let categoryListHTML = `<h3 id=\"category-list-title\" class=\"category-list-item\">All categories</h3>`;\n    data.forEach(category => {\n        const categoryLink = `<p id=\"${category.list_name}\" class=\"category-list-item\">${category.list_name}</p>`;\n        categoryListHTML += categoryLink;\n    });\n    return categoryListHTML;\n};\n\n\n\n// Відправлення запиту і формування списку під час завантаження сторінки \nconst getCategoryList = async () => {\n    let data = await fetchCategoryList();\n    categoryListBox.innerHTML = createCategoryList(data);\n};\ngetCategoryList();\n\n// // Зміни стилів у списку під час вибору категорії (для світлої і темної тем дизайну)\n// categoryListBox.addEventListener(\"click\", choosingCategory);\n// function choosingCategory(event) {\n//     if (localStorage.getItem('theme') === 'dark') {\n//         categoryNames.forEach(name => {\n//             name.style.color = \"rgba(255, 255, 255, 0.6)\";\n//             name.style.fontWeight = 400;\n//             name.style.textTransform = \"lowercase\";\n//             name.style.textTransform = \"capitalize\";\n//         });\n//         event.target.style.color = \"#EAC645\";\n//         event.target.style.fontWeight = 700;\n//         event.target.style.textTransform = \"uppercase\";\n//     } else {\n//         categoryNames.forEach(name => {\n//             name.style.color = \"rgba(17, 17, 17, 0.6)\";\n//             name.style.fontWeight = 400;\n//             name.style.textTransform = \"lowercase\";\n//             name.style.textTransform = \"capitalize\";\n//         });\n//         event.target.style.color = \"#4F2EE8\";\n//         event.target.style.fontWeight = 700;\n//         event.target.style.textTransform = \"uppercase\";\n//     }\n// }\n\ncategoryListBox.addEventListener('click', loadCategory)\n\nasync function loadCategory(event) {\n\n    const {target} = event;\n\n    if(!target.classList.contains('category-list-item')) {\n        return\n    } else {\n        let category = target.id.split(\" \").join(\"%20\");\n        if (category === 'category-list-title') {\n            createBestBook();\n        } else {\n            const { data } = await fetchBooks.getBooksByCategory(category);\n        list.innerHTML = createMarcupCategoryBook(data);\n        }\n\n        const { height: cardHeight } = list.lastElementChild.getBoundingClientRect();\n        window.scrollBy({top: -cardHeight, behavior: \"smooth\",});\n    }\n}\n","\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { booksAPI } from './booksAPI'; \n//import ...\n\n// Змінна що зберігає дів куди добавляти розмітку\nconst list = document.querySelector('.homepage-books')\nlist.addEventListener('click', loadMore)\nconst fetchBooks = new booksAPI();\n\n\n// Змінна та слухач на кнопку скарола\nconst btnScroll = document.querySelector('.btn-up-scroll');\nbtnScroll.addEventListener('click', scrollUp)\n\n// Функція для розмітки бест бук\nfunction createMarcup(arr, querty) {\n\n    const markup = arr.map(({list_name, books}) => {\n        const titleBook = `<p class=\"theme-book\">${list_name}</p>`;\n\n        if (books.length) {\n            let book = books.splice(0, querty).map(({_id, book_image, title, author}) => \n            `<li class=\"item-book\" data-id=\"${_id}\">\n            <div class=\"img-owerlay\">\n            <img src=\"${book_image}\" alt=\"${title}\" class=\"img-book\">\n            <div class=\"owerlay\">\n                <p class=\"owerlay-content\">quick view</p>\n            </div>\n            </div>\n            <p class=\"title-book\">${shortTitle(title, 17)}</p>\n            <p class=\"author\">${shortTitle(author, 34)}</p>\n            </li>`).join('');\n\n            return `<div class=\"best-book-container\">${titleBook}<ul class=\"list-books\">${book}</ul>\n            <button type=\"button\" class=\"button-more js-btn-more\" data-category=\"${list_name}\">See more</button></div>`\n        } else {\n            return `<div class=\"off-books\"><p class=\"off-books-text\">Sorry, there are no books in this category, please choose another category</p></div>`\n        }}).join('');\n\n        return `<h2 class=\"title-theme-book\">Best Sellers <span class=\"last-word-color\">Books</span></h2>${markup}`;\n}\n\n// Початкова функція яка робить запит та промальовує бест бук\nasync function createBestBook() {\n    const pageWidth = document.documentElement.scrollWidth;\n\n    try {\n        const { data } = await fetchBooks.getTopBooks();\n\n        if (data.length) {\n            if (pageWidth < 768) {\n                list.innerHTML = createMarcup(data, 1);\n            } else if (pageWidth < 1440 && pageWidth >= 768) {\n                list.innerHTML = createMarcup(data, 3);\n            } else {\n                list.innerHTML = createMarcup(data, 5);\n            }\n        } else {\n            // Notify.failure(\"Sorry, there was a server error, please reload the page\");\n            return}}\n    catch (error) {\n        console.error(error);\n        // Notify.failure('Sorry, there was a server error, please reload the page');\n    }   \n}\n\n// Виклик даної функції для промальовки всього при завантажені сторінки\ncreateBestBook()\n\n// Функція для розмітки книг за категорією\nfunction createMarcupCategoryBook(arr) {\nif(arr.length){\n        const markup = arr.map(({_id, book_image, author, title}) => \n        `<li class=\"item-book\" data-id=\"${_id}\">\n        <div class=\"img-owerlay\">\n        <img src=\"${book_image}\" alt=\"${title}\" class=\"img-book\">\n        <div class=\"owerlay\">\n        <p class=\"owerlay-content\">quick view</p>\n        </div>\n        </div>\n        <p class=\"title-book\">${shortTitle(title, 17)}</p>\n        <p class=\"author\">${shortTitle(author, 34)}</p>\n        </li>`\n        ).join('')\n\n        return `<h2 class=\"title-theme-book\">${lastBlueWord(arr[0].list_name)}</h2><ul class=\"list-books category\">${markup}</ul>`\n    } else {\n        return `<div class=\"off-books\">\n        <p class=\"off-books-text\">Sorry, there are no books in this category, please choose another category</p>\n        </div>`\n    }\n}\n\n//Функція для списку книг в обраній категорії\nasync function loadMore(event) {\n    event.preventDefault();\n        \n    const { target } = event;\n            \n    try {\n        if(!target.classList.contains('js-btn-more')) { \n            return;\n        } else {\n            let category = target.dataset.category.split(\" \").join(\"%20\");\n            const { data } = await fetchBooks.getBooksByCategory(category);\n            list.innerHTML = createMarcupCategoryBook(data);\n\n    // Робимо Scroll на початок сторінки після її завантаження, щоб одразу була видка категорія книжок\n    const { height: cardHeight } = list.lastElementChild.getBoundingClientRect();\n    window.scrollBy({top: -cardHeight, behavior: \"smooth\",});\n    }\n    } catch (error) {\n        console.error(error);\n        Notify.failure('Sorry, there was a server error, please reload the page');\n    }\n}\n\n// Функція що скорочує title i author на книгаг до вказаного числа символів та додає три крапки в кінці\nfunction shortTitle(string, value) {\n    if(string.length > Number(value)) {\n        return string.slice(0, Number(value)) + '...';\n    }\n    return string\n}\n\n// Функція що робить синім кольором останнє слово \nfunction lastBlueWord(string) {\n    const arrWord = string.split(\" \");\n    const firstWord = arrWord.splice(0, arrWord.length - 1);\n    return `${firstWord.join(' ')} <span class=\"last-word-color\">${arrWord.join('')}</span>`\n}\n    \n    \n// // Функції скролу____________________________________\nfunction scrollUp() {\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    })\n\n    btnScroll.classList.add('is-hidden-btn')\n}\n\nwindow.addEventListener('scroll', scrollTracker);\n\nfunction scrollTracker() {\n    const offset = window.pageYOffset;\n    const highDocument = document.documentElement.clientHeight;\n        if (offset > highDocument) {\n            btnScroll.classList.remove('is-hidden-btn');\n        } else {\n            btnScroll.classList.add('is-hidden-btn');\n        }\n}\n\nexport {list, createMarcupCategoryBook, createBestBook}","import { booksAPI } from './booksAPI';\n\nconst books = new booksAPI;\nlet book_Id;\nconst divContainerEl = document.querySelector('.homepage-books');\nconst divBackEl = document.querySelector('.back');\nconst btnCloseModal = document.querySelector('.btn-modal-close');\nconst btnAddEl = document.querySelector('.add');\nconst btnRemoveEl = document.querySelector('.remove');\nconst textEl = document.querySelector('.modal-message');\n\nconst objScroll = {\n    scrollPosition: 0,\n    disabledScroll() {\n        objScroll.scrollPosition = window.scrollY;\n        document.body.classList.add('block-scroll');\n\n        document.body.style.cssText = `top: -${objScroll.scrollPosition}px;`\n    },\n\n    enabledScroll() {\n        document.body.classList.remove('block-scroll');\n        document.body.style.cssText = `top: 0`\n        window.scroll({top: objScroll.scrollPosition})\n    },\n}\n\ndivContainerEl.addEventListener('click', onReadId);\n\nfunction onReadId(event) {\n    \n    if (event.target.classList[0] === 'img-book' || event.target.classList[0] === 'owerlay') {\n        book_Id = event.target.parentElement.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    } else if (event.target.classList[0] === 'owerlay-content') {\n        book_Id = event.target.parentElement.parentElement.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    } else if (event.target.classList[0] === 'title-book' || event.target.classList[0] === 'author') {\n        book_Id = event.target.parentElement.dataset.id;\n        \n        createModalWindow(book_Id);\n    }\n}\n\nasync function createModalWindow(book_Id) {\n    objScroll.disabledScroll();\n    document.addEventListener(\"keydown\", event => {\n        if (event.key === 'Escape') {\n            onCloseModal();\n        }\n    }, {once: true} );\n    try {\n        const respons = await books.getBookById(book_Id);\n        const { author, book_image, description, title, buy_links } = respons.data;\n        const randerBox = document.querySelector('.book-img');\n        const nameBookEl = document.querySelector('#name-book');\n        const authorEl = document.querySelector('#author');\n        const descriptionEl = document.querySelector('#description');\n        const amazonEl = document.querySelector('#amazon');\n        const appleEl = document.querySelector('#apple');\n        const barnesEl = document.querySelector('#barnes');\n        randerBox.innerHTML = '';\n        const randerModal = `<img src=\"${book_image}\" alt=\"${book_image}\" class=\"img-modal\">`\n        nameBookEl.textContent = title;\n        authorEl.textContent = author;\n        if (description === '') {\n            descriptionEl.textContent = 'No description';\n        } else {\n            descriptionEl.textContent = description\n        }\n        \n        amazonEl.attributes[0].value = buy_links[0].url;\n        appleEl.attributes[0].value = buy_links[1].url;\n        barnesEl.attributes[0].value = buy_links[2].url;\n\n\n        randerBox.innerHTML = randerModal;\n        divBackEl.classList.toggle('is-hidden');\n        const dataJson = localStorage.getItem('orderedBookID');\n        const arrLs = JSON.parse(dataJson);\n        if (arrLs === null || !arrLs.includes(book_Id)) {\n            btnAddEl.classList.remove('is-hidden');\n        } else {\n            btnRemoveEl.classList.remove('is-hidden');\n            textEl.classList.remove('is-hidden');\n        }\n    } catch (error) {\n        console.error(error);\n        Notify.failure('Sorry, there was a server error, please reload the page');\n    }\n    \n};\n\nbtnCloseModal.addEventListener('click', onCloseModal);\n\nfunction onCloseModal() {\n    objScroll.enabledScroll();\n    divBackEl.classList.toggle('is-hidden');\n    btnRemoveEl.classList.add('is-hidden');\n    btnAddEl.classList.add('is-hidden');\n    textEl.classList.add('is-hidden');\n}\n\nbtnAddEl.addEventListener('click', addLocalStorage);\nbtnRemoveEl.addEventListener('click', removeLocalStorage);\n\nfunction addLocalStorage() {\n    btnAddEl.classList.add('is-hidden');\n    btnRemoveEl.classList.remove('is-hidden');\n    textEl.classList.remove('is-hidden');\n    const dataJson = localStorage.getItem('orderedBookID');\n    let arrLs = JSON.parse(dataJson); //book_Id\n    console.log(arrLs)\n    if (arrLs === null) {\n        arrLs = [];\n    }\n    arrLs.push(book_Id);\n    localStorage.setItem('orderedBookID', JSON.stringify(arrLs));\n};\n\nfunction removeLocalStorage() {\n    btnAddEl.classList.remove('is-hidden');\n    btnRemoveEl.classList.add('is-hidden');\n    textEl.classList.add('is-hidden');\n    const dataJson = localStorage.getItem('orderedBookID');\n    const arrLs = JSON.parse(dataJson);\n    let i = arrLs.indexOf(book_Id);\n    arrLs.splice(i, 1);\n    localStorage.removeItem('orderedBookID')\n    localStorage.setItem('orderedBookID', JSON.stringify(arrLs));\n};"],"names":["parcelRequire","$bpxeT","$e8fce829c2082c7b$export$8837f4fc672e936d","document","querySelector","addEventListener","event","$e8fce829c2082c7b$var$_loadMore","apply","this","arguments","$e8fce829c2082c7b$var$fetchBooks","$3w7gl","booksAPI","$e8fce829c2082c7b$var$btnScroll","$e8fce829c2082c7b$var$createMarcup","arr","querty","markup","map","param1","list_name","books","titleBook","concat","length","book","splice","param","_id","book_image","title","author","$e8fce829c2082c7b$var$shortTitle","join","$e8fce829c2082c7b$export$b578f284f1ab20c5","$e8fce829c2082c7b$var$_createBestBook","$parcel$interopDefault","$2TvXO","mark","_callee","pageWidth","data","documentElement","scrollWidth","getTopBooks","_ctx","sent","innerHTML","console","error","t0","$e8fce829c2082c7b$export$132d38df295060c1","string","arrWord","split","firstWord","target","category","ref","cardHeight","preventDefault","classList","contains","dataset","getBooksByCategory","lastElementChild","getBoundingClientRect","height","window","scrollBy","top","behavior","$h6c0i","Notify","failure","value","Number","slice","scrollTo","add","offset","pageYOffset","highDocument","clientHeight","remove","$8ac82c6e993667b2$var$categoryListBox","$8ac82c6e993667b2$var$URL","$8ac82c6e993667b2$var$fetchBooks","$8ac82c6e993667b2$var$fetchCategoryList","$8ac82c6e993667b2$var$_fetchCategoryList","response","$dIxxU","default","get","log","$8ac82c6e993667b2$var$createCategoryList","categoryListHTML","forEach","categoryLink","$8ac82c6e993667b2$var$getCategoryList","$8ac82c6e993667b2$var$_loadCategory","id","$dc327292a98b2944$var$book_Id","$dc327292a98b2944$var$books","$dc327292a98b2944$var$divContainerEl","$dc327292a98b2944$var$divBackEl","$dc327292a98b2944$var$btnCloseModal","$dc327292a98b2944$var$btnAddEl","$dc327292a98b2944$var$btnRemoveEl","$dc327292a98b2944$var$textEl","$dc327292a98b2944$var$objScroll","scrollPosition","disabledScroll","scrollY","body","style","cssText","enabledScroll","scroll","$dc327292a98b2944$var$createModalWindow","book_Id1","$dc327292a98b2944$var$_createModalWindow","respons","_data","description","buy_links","randerBox","nameBookEl","authorEl","descriptionEl","amazonEl","appleEl","barnesEl","randerModal","dataJson","arrLs","key","$dc327292a98b2944$var$onCloseModal","once","getBookById","textContent","attributes","url","toggle","localStorage","getItem","JSON","parse","includes","parentElement","push","setItem","stringify","i","indexOf","removeItem","$b8f9b7833fa37166$var$homeLinkEl","$b8f9b7833fa37166$var$mobileHomeLinkEl"],"version":3,"file":"index.f75aec95.js.map"}