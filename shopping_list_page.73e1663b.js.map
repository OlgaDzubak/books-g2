{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-4cefbee301ee2f7e.js","src/shopping_list_page.js","src/js/shopping_list.js","node_modules/@parcel/runtime-js/lib/runtime-fa5d707ebff18680.js","node_modules/@parcel/runtime-js/lib/runtime-9907dc70c217ead6.js","node_modules/@parcel/runtime-js/lib/runtime-bcd844b2294ca676.js","node_modules/@parcel/runtime-js/lib/runtime-0948aa30bdcf06fd.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7HtH9\\\":\\\"shopping_list_page.73e1663b.js\\\",\\\"85H3w\\\":\\\"amazon.a7ec3af8.png\\\",\\\"4WJIP\\\":\\\"apple-books.a9f158e0.png\\\",\\\"b2aBu\\\":\\\"barnes-and-noble.eb5fbc1e.png\\\",\\\"4HGdI\\\":\\\"trash-03.deb29b96.png\\\",\\\"hE6Rv\\\":\\\"index.0e17fec6.js\\\"}\"));","import './js/isChangeTheme';\nimport './js/shopping_list';\nimport './js/support_ukraine';\nimport './js/mobile_menu';\nimport './js/about_us_modal_window';\nimport './js/autorization_modal_window';\n\nconst shoppingListLinkEl = document.querySelector('.js-nav-shoppinglistlink');\nconst mobileShoppingListLinkEl = document.querySelector('.js-mobile-nav-shoppinglistlink');\nconst mobileShoppingBagIconEl = document.querySelector('.js-mobile-shopping-bag-icon');\n\nshoppingListLinkEl.classList.toggle('selected');\nmobileShoppingListLinkEl.classList.toggle('mobile-selected');\nmobileShoppingBagIconEl.classList.toggle('mobile-selected');\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport amazon from '/src/images/png/amazon.png';\nimport appleBook from '/src/images/png/apple-books.png';\nimport Barners from '/src/images/png/barnes-and-noble.png';\nimport bucketTrash from '/src/images/png/trash-03.png'\nimport axios from \"axios\";\nimport { countShoppingBook } from './header';\n\n\n\n\nconst photoItemsOne = [\n    {\n        img:amazon,\n    }\n\n]\n\nconst photoItemsTwo = [\n    {\n        img: appleBook,\n    }\n]\n\nconst photoItemsThree = [\n    {\n        img:Barners,\n    }\n]\n\nconst bucketCard = [\n    {\n        img:bucketTrash,\n    }\n]\n\n\n\n// const paginationBtn = document.querySelector('div.shopping_booklist_pagination')\nconst shoppingListDiv = document.querySelector('ul.shopping_booklist');\nconst firstPage = document.querySelector('div.null-page');\nshoppingListDiv.addEventListener('click', removeBook)\n\n// Ключ локал стореджа та парс даних з локала в масив\nconst LOCALSTORAGE_KEY = \"orderedBookID\";\nconst orderedBooksId_str = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n\n// Функція формування та відправлення паралельного запиту\nasync function fetchBook(arr) {\n\n  try {\n    \n  const arrayOfPromises = arr.map(async Id => {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/${Id}`);\n    return response\n  });\n\n  // Запускаємо усі проміси паралельно і чекаємо на їх завершення\n  return await Promise.all(arrayOfPromises);\n  } catch (error) {\n    Notify.failure('Sorry, there was a server error, please reload the page');\n  }\n\n}\n\n// Функція створення розмітки \nasync function createMarcup(arr) {\n  const markup = arr.map(({_id, book_image, list_name, author, title, description = 'No description', buy_links}) => \n  `<li class=\"book_card\">\n    <div class=\"book-image-div\">\n      <img class=\"book-image\" src=${book_image} alt=${title}>\n    </div>\n\n    <div class=\"book_information\">\n      <p class=\"book-title\">${title}</p>\n      <p class=\"book-category\">${list_name}</p>\n      <p class=\"book-description\">${description}</p>\n      <p class=\"book-author\">${author}</p>\n    </div>\n\n    <div class=\"closer\">\n      <button data-id=\"${_id}\" class=\"closer-btn\">\n        <img class=\"image-bucket\" src=\"${bucketCard[0].img}\" alt=\"amazon\">\n      </button>\n    </div>\n\n    <div class=\"market_places_div\">\n      <ul class=\"market_placers_list list\">\n        <li class=\"marketplacer_li_two\">\n          <a href=\"${buy_links[0].url}\" class=\"marketplacer_li_link link\">\n            <img class=\"image-market\" src=\"${photoItemsOne[0].img}\" alt=\"amazon\">  \n          </a>\n        </li>\n\n        <li class=\"marketplacer_li\">\n          <a href=\"${buy_links[1].url}\" class=\"marketplacer_li_link link\">\n            <img src=\"${photoItemsTwo[0].img}\" alt=\"apple-books\">      \n          </a>\n        </li>\n\n        <li class=\"marketplacer_li\">\n          <a href=\"${buy_links[2].url}\" class=\"marketplacer_li_link link\">\n            <img src=\"${photoItemsThree[0].img}\" alt=\"barnes-and-noble\">\n          </a>\n        </li>\n    </div>\n  </li>`).join('')\n\n  return markup\n}\n\n// Центральна функція, робить перевірки, запит та відмальовує\nasync function createShoppingList() {\n  let shoppingBook = [];\n  const response = await fetchBook(orderedBooksId_str);\n  countShoppingBook(orderedBooksId_str);\n  firstPage.style.display = \"none\";\n\nif (response.length) {\n  response.forEach(({data}) => shoppingBook.push(data));\n\n  console.log(shoppingBook);\n  const markup = await createMarcup(shoppingBook);\n  shoppingListDiv.innerHTML = markup;\n} else {\n  shoppingListDiv.innerHTML = '';\n  firstPage.style.display = \"block\";\n}\n}\n  \ncreateShoppingList();\n\n// Функція видалення книг з шопінг листа\nasync function removeBook(event) {\n  const {target} = event;\n\n  if (!target.classList.contains('closer-btn')) {\n    return\n  } else {\n    const Id = target.dataset.id;\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n    const bookDelete = orderedBooksId_str.indexOf(Id);\n    orderedBooksId_str.splice(bookDelete, 1);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(orderedBooksId_str));\n    countShoppingBook(orderedBooksId_str)\n    return await createShoppingList();\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n//-----------ОПИС ФУНКЦІЙ ---------------------------------------------------------\n\n// const markup = `\n//            <button class=\"btn\"><<</button>\n//               <button class=\"btn\"><</button>\n//               <button class=\"btn-two\">1</button>\n//               <button class=\"btn-two\">2</button>\n//               <button class=\"btn-two none\">3</button>\n//               <button class=\"btn-many\">...</button>\n//               <button class=\"btn-three\">></button>\n//               <button class=\"btn-three\">>></button>\n              \n// `\n\n// async function getOrderedBookCard(book_id){\n//     console.log(\"book_id=\",book_id);\n//     try {\n//         const response = await booksApi.getBookById(book_id);  \n\n//         //Якщо ми отримали на запит пустий масив даних (нічого не знайдено), виводимо повідомлення і виходимо з функції\n//         if (response.data === 0){\n//             return Notify.failure(\"Sorry, there are no book with that ID\");\n//         }\n//         shoppingListDiv.innerHTML += `<li class=\"book_card\">\n \n//   <div class=\"book-image-div\">\n//     <img class=\"book-image\" src=${response.data.book_image} alt=${response.data.title}>\n//   </div>\n\n//   <div class=\"book_information\">\n//     <p class=\"book-title\">${response.data.title}</p>\n//     <p class=\"book-category\">${response.data.list_name}</p>\n//     <p class=\"book-description\">${response.data.description}</p>\n//     <p class=\"book-author\">${response.data.author}</p>\n//   </div>\n\n  // <div class=\"closer\">\n    \n  //   <button class=\"closer-btn\">\n  //   <img class=\"image-bucket\" src=\"${bucketCard[0].img}\" alt=\"amazon\">\n  \n  //   </button>\n \n  // </div>\n\n  //   <div class=\"market_places_div\">\n  //         <ul class=\"market_placers_list list\">\n\n  //           <li class=\"marketplacer_li_two\">\n  //             <a href=\"${response.data.buy_links[0].url}\" class=\"marketplacer_li_link link\">\n  //               <img class=\"image-market\" src=\"${photoItemsOne[0].img}\" alt=\"amazon\">\n                \n  //             </a>\n  //           </li>\n\n  //           <li class=\"marketplacer_li\">\n  //             <a href=\"${response.data.buy_links[1].url}\" class=\"marketplacer_li_link link\">\n  //               <img src=\"${photoItemsTwo[0].img}\" alt=\"apple-books\">\n                \n  //             </a>\n  //           </li>\n\n  //           <li class=\"marketplacer_li\">\n  //             <a href=\"${response.data.buy_links[2].url}\" class=\"marketplacer_li_link link\">\n  //               <img src=\"${photoItemsThree[0].img}\" alt=\"barnes-and-noble\">\n  //             </a>\n  //           </li>\n    \n  // </div>`\n//         paginationBtn.innerHTML = markup;\n//         firstPage.innerHTML = ''   // рендеримо картку книжки\n\n//         //перевіряємо чи не пустий опис кнжки\n//         const description = document.querySelector('.book-description');\n//         if (description.textContent === \"\"){\n//             description.textContent = \"No description\";\n//         }\n//     }catch(error) {                             //якщо запит повернув помилку, обровляємо її (виводимо у консоль)\n//         console.log(error);\n//     }\n// }\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('7HtH9') + require('./helpers/bundle-manifest').resolve(\"85H3w\");","module.exports = require('./helpers/bundle-url').getBundleURL('7HtH9') + require('./helpers/bundle-manifest').resolve(\"4WJIP\");","module.exports = require('./helpers/bundle-url').getBundleURL('7HtH9') + require('./helpers/bundle-manifest').resolve(\"b2aBu\");","module.exports = require('./helpers/bundle-url').getBundleURL('7HtH9') + require('./helpers/bundle-manifest').resolve(\"4HGdI\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$12338d6477df6c6d$exports","getBundleURL","resolve","$fcb8823ec467bb63$exports","$8eec536ee96c79a7$exports","$276b5b09275500e6$exports","$6a7cd2c6e39da374$var$photoItemsOne","img","$parcel$interopDefault","$6a7cd2c6e39da374$var$photoItemsTwo","$6a7cd2c6e39da374$var$photoItemsThree","$6a7cd2c6e39da374$var$bucketCard","$6a7cd2c6e39da374$var$shoppingListDiv","document","querySelector","$6a7cd2c6e39da374$var$firstPage","addEventListener","event","$6a7cd2c6e39da374$var$_removeBook","apply","this","arguments","$6a7cd2c6e39da374$var$LOCALSTORAGE_KEY","$6a7cd2c6e39da374$var$orderedBooksId_str","localStorage","getItem","$6a7cd2c6e39da374$var$fetchBook","arr","$6a7cd2c6e39da374$var$_fetchBook","$2TvXO","mark","_callee1","arrayOfPromises","map","_callee","Id","response","$dIxxU","default","get","concat","_ctx","sent","Promise","all","$h6c0i","Notify","failure","$6a7cd2c6e39da374$var$createMarcup","$6a7cd2c6e39da374$var$_createMarcup","markup","param","_id","book_image","list_name","author","title","_description","description","buy_links","join","$6a7cd2c6e39da374$var$createShoppingList","$6a7cd2c6e39da374$var$_createShoppingList","shoppingBook","$i8Q71","countShoppingBook","style","display","forEach","data","push","console","log","innerHTML","target","bookDelete","classList","contains","dataset","removeItem","indexOf","splice","setItem","stringify","$2f5132b0b0c0df45$var$shoppingListLinkEl","$2f5132b0b0c0df45$var$mobileShoppingListLinkEl","$2f5132b0b0c0df45$var$mobileShoppingBagIconEl","toggle"],"version":3,"file":"shopping_list_page.73e1663b.js.map"}